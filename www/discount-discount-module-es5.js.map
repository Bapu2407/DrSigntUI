{"version":3,"sources":["webpack:///src/app/layout/discount/discount-routing.module.ts","webpack:///src/app/layout/discount/discount.component.ts","webpack:///src/app/layout/discount/discount.component.html","webpack:///src/app/layout/discount/discount.module.ts"],"names":["routes","path","component","DiscountRoutingModule","forChild","imports","exports","value","DiscountComponent","router","route","modal","toastr","_fb","dataService","loadingCustomeMsg","loading","discountType","delivery_discount","isPrescriptionUploaded","showOldPrescription","discountTypes","logicTypes","byPercentAmounts","allDynaFilter","patientList","customerList","states","keywordCustomer","fetchDiscountByCustomer","discountList","fromCustomerPage","userKind","normalFiltereduserListArr","customerOldPrescriptionListArr","items","pageSize","RECORDSIZE","pageNo","tempArray","subLogicType","keywordMedicine","discountObject","active","logicType","byPercentAmount","lower_value","upper_value","discount_amount","medicineArray","medicineId","medicineName","quantity","mg","attendantList","discountObjectBase","openingMeridian","user","role","doctor","discount","view","customerName","snapshot","paramMap","get","console","log","discountFormGroup","buildForm","group","required","patchValue","controls","navigate","fromDiscountPage","medicineListItems","push","createMedicineItem","i","removeAt","item","at","val","data","name","fetchAllMedicines","then","result","map","element","err","reinitialise","modalSearchFilerReference","open","searFiltersModal","dismiss","customerId","mode","Object","assign","modalReferenceDiscountForm","discountFormModal","close","localStorage","getItem","fetchDiscountsCount","fetchDiscounts","fetchAllCustomersNotByName","valid","submitAttempt","validateFields","JSON","stringify","valueUpper","parseFloat","valueLower","alert","addDiscount","commonAfterSaveCode","form_fill_failure_msg","successToastr","updateDiscount","closeMainModal","setTimeout","obj","image","uploadPhotoDiscountPrescriptionURL","enlargedPrescPic","modalReferencePrescriptionImage","enlargedPrescriptionModal","selectValue","oldPresc","_id","error","length","changeLogicType","commonCodeDuringEdit","discountDate","discountId","discountStatus","totalDocRecords","event","applyFilter","undefined","pageOfItems","fetchAllDiscountPrescriptions","fetchAllCustomers","perPage","filter","fetchDiscountsByFilterCount","userInfo","pageChanged","selector","templateUrl","styleUrls","providers","DiscountModule","forRoot","animationType","wanderingCubes","backdropBackgroundColour","backdropBdiscountRadius","primaryColour","secondaryColour","tertiaryColour","provide","useFactory","declarations"],"mappings":"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","file":"discount-discount-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { DiscountComponent } from './discount.component';\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: '', component: DiscountComponent\r\n    }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class DiscountRoutingModule { }\r\n","import { Component, OnInit, NgZone, ViewChild, TemplateRef, ElementRef} from '@angular/core';\r\n\r\nimport { ToastrManager } from 'ng6-toastr-notifications';\r\nimport {  NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { NgbAccordion,NgbModalRef } from '@ng-bootstrap/ng-bootstrap';\r\nimport { Router , ActivatedRoute} from '@angular/router';\r\nimport *  as moment from 'moment';\r\nimport { DataAccess } from 'src/app/services/data-access';\r\nimport { Config } from '../../config';\r\n\r\n\r\nimport { BaseComponent } from 'src/BaseComponent';\r\nimport { FormBuilder, FormGroup, FormControl, Validators,FormArray } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-discount',\r\n  templateUrl: './discount.component.html',\r\n  styleUrls: ['./discount.component.scss'],\r\n  providers : [NgbModal]\r\n})\r\nexport class DiscountComponent extends BaseComponent implements OnInit {\r\n  loadingCustomeMsg:any = \"Loading...\"\r\n  @ViewChild('fileInputDemoPhoto') fileInputDemoPhoto :ElementRef;;\r\n  public loading:boolean = true;\r\n  discountType:any = {delivery_discount:[]}\r\n  public isPrescriptionUploaded = false\r\n  showOldPrescription:any = ''\r\n  discountTypes:any = \r\n  [\r\n    {'name':'Direct Discounts','value':'delivery_discount'},\r\n    {'name':'Discounts ON Order Volume','value':'order_volume'},\r\n    {'name':'Coupon','value':'coupon'}\r\n\r\n    ]\r\n  logicTypes:any = [\r\n    {'name':'Order Value Greater Than(>)','value':'greater_than'},\r\n    //{'name':'Less Than(<)','value':'less_than'},\r\n    {'name':'Order Value IN Between((> <)','value':'in_between'},\r\n    {'name':'Order Value Greater Than Equal To(>=)','value':'greater_than_equal_to'},\r\n    //{'name':'Less Than Equal To(<=)','value':'less_than_equal_to'},\r\n    {'name':'Order Value Equal To(=)','value':'equal_to'}\r\n  ]\r\n  byPercentAmounts:any = [\r\n    {'name':'By Percentage','value':'by_percent'},\r\n    {'name':'By Amount','value':'by_value'},\r\n   \r\n  ]\r\n  \r\n\r\n  public closeResult: string;\r\n  enlargedPic:any\r\n  enlargedPrescPic:any\r\n  allDynaFilter = null\r\n  patientList:any = []\r\n  customerList:any = []\r\n  discountStatus:string\r\n  discountId:string\r\n  discountDate:string\r\n  states = Config.states\r\n  keywordCustomer:string = \"name\"\r\n  fetchDiscountByCustomer:boolean = false\r\n  discountList:any = []\r\n  public defaultPagination: number;\r\n  public advancedPagination: number;\r\n  public paginationSize: number;\r\n  public itemsPerPage : number;\r\n  public disabledPagination: number;\r\n  public isDisabled: boolean;\r\n  public collectionSize: number;\r\n  public currentPage: number;\r\n  fromCustomerPage:boolean = false\r\n  @ViewChild('acc') accordionComponent: NgbAccordion;\r\n  public userKind:string=\"discount\"\r\n  normalFiltereduserListArr:any = [];\r\n  customerOldPrescriptionListArr:any = [];\r\n  \r\n  modalSearchFilerReference: NgbModalRef;\r\n\r\n  modalReferenceDiscountForm: NgbModalRef;\r\n  @ViewChild('content') content: TemplateRef<any>;   \r\n   items = [];\r\n   @ViewChild('discountFormModal') discountFormModal: TemplateRef<any>;\r\n   @ViewChild('searFiltersModal') searFiltersModal: TemplateRef<any>;\r\n   @ViewChild('enlargedImageModal') enlargedImageModal: TemplateRef<any>;\r\n   @ViewChild('enlargedPrescriptionModal') enlargedPrescriptionModal: TemplateRef<any>;\r\n\r\n   \r\n   pageOfItems: Array<any>;\r\n  public pageSize = Config.RECORDSIZE;\r\n  public pageNo = 1\r\n  tempArray: any[] = [];\r\n  totalDocRecords:any \r\n  discountFormGroup: FormGroup;\r\n  totalPatientRecords:any\r\n  customDiscounttime : {\r\n    hour: 10,\r\n    minute: 20,\r\n\r\n};\r\nsubLogicType:boolean = false\r\n\r\n\r\nmedicineName:any\r\nkeywordMedicine = \"name\"\r\n  discountObject =  \r\n  {    \r\n    active : true,         \r\n    discountType : \"\",\r\n    logicType:\"\",\r\n    byPercentAmount:\"by_percent\",\r\n    subLogicType:false,\r\n    lower_value:\"\",\r\n    upper_value:\"\",\r\n    value:'',\r\n    discount_amount:''\r\n  }\r\n  medicineArray:any = [[{\r\n    medicineId: '',             \r\n    medicineName : \"\",\r\n    quantity : \"\",\r\n    mg: ''\r\n            \r\n  }]]\r\n  attendantList:any = []\r\n  discountObjectBase =  \r\n  {    \r\n    active : true,         \r\n    discountType : \"\",\r\n    logicType:\"\",\r\n    byPercentAmount:\"by_percent\",\r\n    subLogicType:false,\r\n    lower_value:\"\",\r\n    upper_value:\"\",\r\n    value:'',\r\n    discount_amount:''\r\n  }\r\n  customer:any\r\n  customerName:any\r\n  customerId:any\r\n  doctorName:any\r\n  medicineListItems: FormArray;\r\n  openingMeridian : boolean = true;\r\n\r\n  constructor(    \r\n    public router: Router,\r\n    private route: ActivatedRoute,\r\n    private modal: NgbModal,\r\n    public toastr: ToastrManager,\r\n    private _fb: FormBuilder,    \r\n    public dataService: DataAccess   \r\n    \r\n  ) {\r\n    super(router)\r\n  //  this.customDiscounttime.hour = 9\r\n   // this.customDiscounttime.minute = 10\r\n\r\n    if(!this.user.role.doctor.discount.view){\r\n      return\r\n    }\r\n\r\n    this.customerName =  this.route.snapshot.paramMap.get('name');\r\n\r\n    this.fromCustomerPage = this.route.snapshot.paramMap.get('fromCustomerPage') =='fromCustomerPage';\r\n    console.log(\"this.customerName  **\"+this.customerName ) \r\n    //this.customerId =  \"5ee8ea1158ea514eec6f6e18\"//this.route.snapshot.paramMap.get('customerId');\r\n\r\n\r\n    this.discountFormGroup = this.buildForm()\r\n   \r\n  }\r\n\r\n  buildForm(){\r\n    return this._fb.group({\r\n      discountType: new FormControl(this.discountObject.discountType, Validators.required),      \r\n      logicType: new FormControl(this.discountObject.logicType), \r\n      byPercentAmount: new FormControl(this.discountObject.byPercentAmount), \r\n      subLogicType: new FormControl(this.discountObject.subLogicType), \r\n      lower_value: new FormControl(this.discountObject.lower_value), \r\n      upper_value: new FormControl(this.discountObject.upper_value),       \r\n      value: new FormControl(this.discountObject.value) ,\r\n      discount_amount: new FormControl(this.discountObject.discount_amount) \r\n      \r\n    });\r\n  }\r\n  changeDiscountType(){\r\n\r\n    if(this.discountObject.discountType == \"as_is_basis\"){\r\n      this.discountObject.byPercentAmount = \"by_value\"\r\n    }else{\r\n      this.discountObject.byPercentAmount = \"by_percent\"\r\n    }\r\n\r\n    this.discountFormGroup.get('byPercentAmount').patchValue(this.discountObject.byPercentAmount);\r\n\r\n  }\r\n  changePercentAmount(){\r\n\r\n  }\r\n\r\n  convertToHumanDiscountTypeDesc(discountType){\r\n    \r\n    if(discountType == \"delivery_discount\"){\r\n      return 'Direct Discounts'\r\n    }\r\n\r\n    if(discountType == \"order_volume\"){\r\n      return 'Discounts ON Order Volume'\r\n    }\r\n    \r\n    if(discountType == \"coupon\"){\r\n      return 'Coupon'\r\n    }\r\n\r\n  }\r\n\r\n  changeLogicType(){\r\n    if(this.discountObject.logicType == 'in_between'){\r\n      this.subLogicType = true\r\n\r\n      this.discountObject.subLogicType = true\r\n    }else{\r\n      this.discountObject.lower_value = '0'\r\n      this.discountObject.upper_value = '0'\r\n      this.discountObject.subLogicType = false\r\n      this.subLogicType = false\r\n    }\r\n  }\r\n\r\n  getControls() {\r\n    return (this.discountFormGroup.get('medicineListItems') as FormArray).controls;\r\n  }\r\n  gotoCustomerPage(){\r\n    this.router.navigate([\"/customer\",{fromDiscountPage:'fromDiscountPage'}]);\r\n  }\r\n  openCustomerPage(){\r\n    this.router.navigate([\"/customer\"]);\r\n  }\r\n  createMedicineItem(): FormGroup {\r\n    return this._fb.group({\r\n      medicineId: '',\r\n      medicineName: '',\r\n      mg: '',\r\n      quantity: ''\r\n    });\r\n  }\r\n/*\r\n  ngAfterViewInit(){\r\n    this.dataService.fetchAllPatients().then((result:[]) => {\r\n      this.patientList = result.map(element => element)\r\n    }, (err) => {\r\n        //console.log(err);\r\n    });\r\n\r\n   \r\n  }\r\n  */\r\n  getDiscount(){\r\n\r\n  }\r\n  addItem(): void {\r\n    this.medicineListItems = this.discountFormGroup.get('medicineListItems') as FormArray;\r\n    this.medicineListItems.push(this.createMedicineItem());\r\n  }\r\n\r\n  removeItem(i){\r\n\r\n     this.medicineListItems = this.discountFormGroup.get('medicineListItems') as FormArray;\r\n    this.medicineListItems.removeAt(i)  \r\n\r\n  }\r\n\r\n  medicineSelectEvent(item,i) {\r\n    if(item){\r\n    //this.discountFormGroup.get('medicineID').patchValue(item['_id']);\r\n   // this.discountObject.medicineList[i].medicineId = item['_id']\r\n    this.medicineListItems.at(i).get('medicineId').patchValue(item['_id']);\r\n    this.medicineListItems.at(i).get('medicineName').patchValue(item['name']);\r\n\r\n    \r\n   // this.discountObject.medicineList[i].medicineName = item['medicineName']\r\n\r\n    //console.log(\" inside discountSelectEvent \"+JSON.stringify(item))\r\n    }\r\n    // do something with selected item\r\n  }\r\n \r\n  doctorMedcineSearch(val: string,i) {\r\n    console.log(\" inside onChangePatientSearch val \"+val)\r\n\r\n    console.log(\" component count \"+ i)\r\n\r\n   // if(val && val.length >2 ){\r\n    let data = {name:val}\r\n\r\n    //let medicineArray = []\r\n    this.dataService.fetchAllMedicines(data).then((result:[]) => {\r\n      this.medicineArray = result.map(element => element)\r\n      //this.medicineArray[i] = medicineArray\r\n      //this.medicineArray = medicineArray.map(element => element)\r\n     // console.log(\"this.medicineArray==\"+JSON.stringify(this.medicineArray[i]))\r\n    }, (err) => {\r\n        //console.log(err);\r\n    });\r\n   // }\r\n  }\r\n \r\n  openSearchFilter(){\r\n    //this.reset()\r\n    this.reinitialise()\r\n    this.modalSearchFilerReference = this.modal.open(this.searFiltersModal); \r\n  }\r\n  closeSearchModal(){\r\n    //if(this.modalSearchFilerReference)\r\n    //this.modalSearchFilerReference.close();\r\n    if(this.modalSearchFilerReference)\r\n    this.modalSearchFilerReference.dismiss()\r\n  }\r\n  openforAddDiscountDialog(){\r\n\r\n    this.customerOldPrescriptionListArr = []; \r\n    this.customerId = ''\r\n    /*\r\n    if(this.customerId == undefined || !this.customerId || this.customerId == ''){\r\n     alert(\"Please select a customer first, from the dropdown\")\r\n     return\r\n    }\r\n    */\r\n    this.mode = \"add\"\r\n    this.discountFormGroup = this.buildForm()\r\n    \r\n   // \r\n    //this.medicineListItems.push({})\r\n    this.discountObject = Object.assign({}, this.discountObjectBase); \r\n    this.modalReferenceDiscountForm = this.modal.open(this.discountFormModal);\r\n  }\r\n  getPatient(){\r\n\r\n  }\r\n \r\n\r\n  closeModal() {\r\n     \r\n    if(this.modalReferenceDiscountForm)\r\n      this.modalReferenceDiscountForm.close();\r\n    \r\n  }\r\n  ngOnInit(){\r\n\r\n\r\n    if (!localStorage.getItem('isLoggedin')) {\r\n      this.router.navigate([\"/login\"]);\r\n    }\r\n    \r\n    this.fetchDiscountsCount()  \r\n    this.fetchDiscounts()   \r\n\r\n   \r\n    \r\n //   this.items = Array(150).fill(0).map((x, i) => ({ id: (i + 1), name: `Item ${i + 1}`})\r\n  };\r\n\r\n  fetchCustomers(){\r\n    //  this.pageNo = 1\r\n      //this.pageSize = 10\r\n      \r\n      this.dataService.fetchAllCustomersNotByName().then((result:[]) => {\r\n          \r\n        //this.customerList = [];      \r\n  \r\n          this.customerList = result.map(element => element)\r\n         // if(!this.fromCustomerPage){\r\n           // this.customerId = this.customerList[0]\r\n         // }\r\n  \r\n      }, (err) => {\r\n        this.loading = false;\r\n        console.log(err);\r\n      });\r\n  \r\n    }\r\n    \r\n  save(){\r\n\r\n    if(!this.discountFormGroup.valid){\r\n        this.submitAttempt = true;        \r\n        this.validateFields(this.discountFormGroup.controls)                   \r\n        return; \r\n    } \r\n\r\n    console.log(\"this.discountObject for add == \"+JSON.stringify(this.discountObject))\r\n   if(this.discountObject.upper_value && this.discountObject.upper_value ){\r\n    let valueUpper = parseFloat(this.discountObject.upper_value)\r\n    let valueLower = parseFloat(this.discountObject.upper_value)\r\n    if(this.subLogicType && valueUpper < valueLower ){\r\n      alert('The upper value should be greater than lower value')\r\n      return\r\n   }\r\n  }\r\n  \r\n    \r\n    if(this.mode == \"add\"){\r\n      delete this.discountObject['customer']\r\n      \r\n      this.dataService.addDiscount(this.discountObject).then((result) => {                \r\n        //  console.log(\"result after adduser == \"+JSON.stringify(result))\r\n        this.commonAfterSaveCode()\r\n          this.reinitialise()\r\n          this.form_fill_failure_msg = \"\"\r\n          this.toastr.successToastr('New discount is added successfully');\r\n          \r\n\r\n      }, (err) => {        \r\n      console.log(err);\r\n      });\r\n      \r\n    }if(this.mode == \"edit\"){\r\n      this.loading = true;\r\n      //delete this.discountObject['patient']\r\n      delete this.discountObject['customer']\r\n      this.discountObject['discountId'] = this.discountObject['_id']\r\n    //  console.log(\"this.discountObject for edit == \"+JSON.stringify(this.discountObject))\r\n      this.dataService.updateDiscount(this.discountObject).then((result) => {\r\n        //  console.log(\"****** updatediscount result   ===== **\"+JSON.stringify(result))\r\n          \r\n          this.commonAfterSaveCode()\r\n          if(this.isPrescriptionUploaded){\r\n            \r\n            this.isPrescriptionUploaded = false\r\n          }\r\n          this.form_fill_failure_msg = \"\"\r\n          this.toastr.successToastr('discount is updated successfully'); \r\n      }, (err) => {\r\n        //this.mode = \"add\"\r\n        this.loading = false;\r\n        console.log(err);\r\n      });\r\n      \r\n    }\r\n    \r\n}\r\ncommonAfterSaveCode(){\r\n  this.customerId = ''\r\n          this.loading = true;\r\n         // this.normalFiltereduserListArr = []; \r\n          this.closeMainModal()\r\n          setTimeout(() => {\r\n            this.loading = false;\r\n            this.mode = \"add\"   \r\n            this.fetchDiscounts()\r\n            \r\n        }, 2000);\r\n      \r\n}\r\n\r\nenlargePrescription(obj){\r\n  //this.closeCustomModal()\r\n  //this.enlargedPic = ''\r\n  let image  = obj.uploadPhotoDiscountPrescriptionURL    \r\n  this.enlargedPrescPic = image\r\n  this.modalReferencePrescriptionImage = this.modal.open(this.enlargedPrescriptionModal); \r\n}\r\n\r\nselectPrescription(obj){\r\n // let image  = obj.uploadPhotoDiscountPrescriptionURL    \r\n  //  this.enlargedPrescPic = image\r\n  //this.modalReferenceImage = this.modal.open(this.enlargedPrescriptionModal); \r\n  obj.selectValue = true\r\n\r\n  for ( var i in  this.customerOldPrescriptionListArr){\r\n    let oldPresc = this.customerOldPrescriptionListArr[i]\r\n    if(oldPresc._id == obj._id){\r\n      continue\r\n    }else{\r\n      //this.customerOldPrescriptionListArr.splice(i, 1);\r\n      oldPresc.selectValue = false\r\n      //this.customerOldPrescriptionListArr.splice(i, 1,oldPresc);\r\n    }\r\n  }\r\n  \r\n\r\n  console.log(\"obj ==\"+JSON.stringify(obj))\r\n  //this.getPhotoOLDPrescription(obj.uploadPhotoDiscountPrescriptionURL)\r\n  //this.showOldPrescription  = 'url(' + obj.uploadPhotoDiscountPrescriptionURL + ')'\r\n}\r\n\r\ngetPhotoOLDPrescription(image) {\r\n  try {\r\n    \r\n    \r\n    return 'url(' + image + ')'\r\n  }\r\n  catch(error) {\r\n   console.log('Error', error);\r\n  }\r\n}\r\n\r\n\r\ngetPhotoOldPrescription(obj) {\r\n  try {\r\n    let image  = obj.uploadPhotoDiscountPrescriptionURL\r\n    \r\n      image  = obj.uploadPhotoDiscountPrescriptionURL\r\n      /*if(obj && obj.uploadPhotoDiscountPrescription){\r\n        image = obj.uploadPhotoDiscountPrescription\r\n      }\r\n    */\r\n  //  this.enlargedPic = image\r\n   \r\n    \r\n    return 'url(' + image + ')'\r\n  }\r\n  catch(error) {\r\n   // //console.log('Error', error);\r\n  }\r\n}\r\n\r\ncommonCodeDuringEdit(){\r\n\r\n  \r\n  this.discountFormGroup = this.buildForm()\r\n  console.log(\"this.medicineListItems **\"+this.medicineListItems.length)\r\n\r\n}\r\n openForeditDiscount(user){\r\n  //this.modalReferenceDiscountForm = this.modal.open(this.discountFormModal);\r\n\r\n  //this.loading = true\r\n  this.loadingCustomeMsg == \"Fetching old prescriptions, please wait..\"\r\n  this.mode = \"edit\"\r\n  \r\n  this.modalReferenceDiscountForm = this.modal.open(this.discountFormModal);\r\n  this.customerId = user['customerId']\r\n  this.discountObject = Object.assign({}, user); \r\n\r\n  this.changeLogicType()\r\n  console.log(\"this.customerId == \"+this.customerId)\r\n\r\n  //if(this.customerId)\r\n  //this.fetchAllDiscountPrescriptions()  \r\n\r\n  let data ={customerId:this.customerId}\r\n  console.log(\" fetch old prescription for \"+JSON.stringify(data))\r\n  this.commonCodeDuringEdit()\r\n  \r\n  \r\n}\r\n\r\n  reinitialise(){\r\n  \r\n    this.discountDate = ''\r\n    this.customerId = ''\r\n    this.discountId = ''\r\n    this.discountStatus = ''\r\n    this.customerName = ''\r\n    this.allDynaFilter = null\r\n    this.fetchDiscountsCount()\r\n    this.totalDocRecords = 0\r\n    this.fetchDiscounts()\r\n  }\r\n  reset(){\r\n    this.reinitialise()\r\n    this.toastr.successToastr('Filters reset, discount list refreshed');\r\n  }\r\n  pageChanged(event){\r\n    console.log(\"****** this.event   ===== **\"+event)\r\n    this.pageNo = event\r\n    this.applyFilter()\r\n  }\r\ncloseMainModal() {\r\n     \r\n  if(this.modalReferenceDiscountForm)\r\n    this.modalReferenceDiscountForm.close();\r\n  \r\n}\r\n  userKindChange(){\r\n    this.pageNo = 1\r\n    \r\n    this.applyFilter()\r\n  }\r\n  applyFilter() {  \r\n    if(this.customerId != undefined && this.customerId && this.customerId != ''){\r\n      this.fetchDiscountByCustomer = true\r\n    }else{\r\n      this.fetchDiscountByCustomer = false\r\n    }\r\n\r\n    console.log(\"this.customerId \"+this.customerId)    \r\n        \r\n    this.fetchDiscountsCount()  \r\n    this.fetchDiscounts()    \r\n    \r\n  }\r\n  onChangePage(pageOfItems: Array<any>) {\r\n    // update current page of items\r\n    this.pageOfItems = pageOfItems;\r\n    this.pageNo = 1\r\n\r\n}\r\n \r\n  \r\ncustomerSelectEvent(item) {\r\n  if(item){\r\n  this.discountFormGroup.get('customerId').patchValue(item['_id']);\r\n  this.customerId = item['_id']\r\n\r\n  if(this.customerId){\r\n    this.loading = true\r\n    this.loadingCustomeMsg == \"Fetching old prescriptions, please wait..\"\r\n    this.fetchAllDiscountPrescriptions()   \r\n  }\r\n  //console.log(\" inside customerSelectEvent \"+JSON.stringify(item))\r\n  }\r\n  // do something with selected item\r\n}\r\n\r\nonChangeCustomerSearch(val: string) {\r\n  //console.log(\" inside onChangePatientSearch val \"+val)\r\n // if(val && val.length >2 ){\r\n  let data = {name:val}\r\n  this.dataService.fetchAllCustomers(data).then((result:[]) => {\r\n    this.customerList = result.map(element => element)\r\n  }, (err) => {\r\n      //console.log(err);\r\n  });\r\n // }\r\n}\r\n\r\n\r\n\r\n  fetchDiscountsCount(){\r\n  //  this.pageNo = 1\r\n  //  this.pageSize = 10\r\n   /* let data = {}\r\n    if(this.fetchDiscountByCustomer){\r\n      data['fetchDiscountByCustomer'] = true\r\n      data['customerId'] = this.customerId\r\n    }else{\r\n      data['fetchDiscountByCustomer'] = false\r\n    }\r\n    this.dataService.fetchDiscountsCount(data).then((result) => {\r\n        \r\n        console.log(\"****** fetchdiscountsCount result   ===== **\"+JSON.stringify(result))\r\n      this.totalDocRecords = result;\r\n      console.log(\"****** this.totalDocRecords ===== **\"+this.totalDocRecords)\r\n\r\n      this.loading = false;\r\n\r\n    }, (err) => {\r\n      this.loading = false;\r\n      console.log(err);\r\n    });\r\n\r\n    */\r\n\r\n   let data = {pageNo:this.pageNo,perPage:this.pageSize,filter : this.allDynaFilter}\r\n   // this.fetchDiscountsCount({filter : allDynaFilter})  \r\n    //this.fetchDiscountsByFilters({filter : allDynaFilter})   \r\n    console.log(\" inside data \"+JSON.stringify(data))\r\n  \r\n    this.dataService.fetchDiscountsByFilterCount(data).then((result) => {\r\n          \r\n      console.log(\"****** fetchdiscountsCount result   ===== **\"+JSON.stringify(result))\r\n    this.totalDocRecords = result;\r\n    this.loading = false;\r\n\r\n    console.log(\"****** this.totalDocRecords ===== **\"+this.totalDocRecords)\r\n  \r\n  }, (err) => {\r\n    this.loading = false;\r\n    console.log(err);\r\n  });\r\n  }\r\n \r\n   fetchAllDiscountPrescriptions(){\r\n    \r\n    let data ={customerId:this.customerId}\r\n\r\n    console.log(\" fetch old prescription for \"+JSON.stringify(data))\r\n    \r\n  }\r\n  fetchDiscounts(){\r\n  //  this.pageNo = 1\r\n    //this.pageSize = 10\r\n   // let data = {pageNo:this.pageNo,perPage:this.pageSize}\r\n    //data['customerId'] = this.customerId\r\n\r\n   // console.log(\"this.customerId   ===== **\"+this.customerId)\r\n    let data = {pageNo:this.pageNo,perPage:this.pageSize,filter : this.allDynaFilter}\r\n // this.fetchDiscountsCount({filter : allDynaFilter})  \r\n  //this.fetchDiscountsByFilters({filter : allDynaFilter})   \r\n  //console.log(\" inside data \"+JSON.stringify(data))\r\n  this.dataService.fetchDiscounts(data).then((result:[]) => {        \r\n    this.normalFiltereduserListArr = []; \r\n      this.normalFiltereduserListArr = result.map(element => {        \r\n        return   element\r\n      })\r\n    //  console.log(\"****** this.fetchDiscountsByFilters   ===== **\"+JSON.stringify(this.normalFiltereduserListArr))      \r\n      this.loading = false;\r\n\r\n  }, (err) => {\r\n    this.normalFiltereduserListArr = []; \r\n    this.loading = false;\r\n    console.log(err);\r\n  });\r\n        \r\n\r\n/*\r\n    if(this.fetchDiscountByCustomer){\r\n      data['fetchDiscountByCustomer'] = true\r\n      data['customerId'] = this.customerId\r\n    }else{\r\n      data['fetchDiscountByCustomer'] = false\r\n    }\r\n    \r\n    this.dataService.fetchDiscounts(data).then((result:[]) => {\r\n        \r\n      this.normalFiltereduserListArr = []; \r\n     // this.customerList = []\r\n        this.normalFiltereduserListArr = result.map(element => {\r\n          \r\n          return   element\r\n        })\r\n        console.log(\"****** this.fetchDiscounts   ===== **\"+JSON.stringify(this.normalFiltereduserListArr))\r\n        \r\n\r\n       // this.normalFiltereduserListArr.forEach(function(discount, index){\r\n         // console.log(\"****** active   ===== **\"+ discount.active)\r\n       // })\r\n        \r\n        this.loading = false;\r\n\r\n    }, (err) => {\r\n      this.normalFiltereduserListArr = []; \r\n      this.loading = false;\r\n      console.log(err);\r\n    });\r\n*/\r\n  }\r\n  \r\n  updateStatus(value, userInfo) {\r\n   // userInfo.active = value\r\n  //  console.log(\"****** userInfo   ===== **\"+JSON.stringify(userInfo))\r\n  let data ={}\r\n  userInfo.active = !userInfo.active\r\n  console.log(\"******  userInfo.active   ===== **\"+userInfo.active )\r\n    \r\n      userInfo.discountId = userInfo._id\r\n      data['discountId'] = userInfo._id\r\n      data['active'] = userInfo.active\r\n      console.log(\"****** userInfo   ===== **\"+JSON.stringify(data))\r\n\r\n          this.dataService.updateDiscount(data).then((result) => {\r\n          //  console.log(\"****** updatediscount result   ===== **\"+JSON.stringify(result))\r\n          this.fetchDiscounts()\r\n            this.loading = false;\r\n      \r\n        }, (err) => {\r\n          this.loading = false;\r\n          console.log(err);\r\n        });\r\n    \r\n    this.toastr.successToastr('Discount record updated successfully');\r\n  }\r\n\r\n  \r\n}\r\n","<div>\r\n  <app-page-header [heading]=\"'Discount'\" [icon]=\"'fa-user'\"></app-page-header>\r\n</div>\r\n\r\n<div class=\"row\">\r\n  <div class=\"col-md-12\" *ngIf=\"user.role.doctor.discount.create\">                          \r\n      <button type=\"button\" class=\"btn btn-dark\" (click)=\"openforAddDiscountDialog()\">Add Discount</button>\r\n     \r\n</div>\r\n\r\n\r\n<!--div class=\"col-md-12 text-right\" *ngIf=\"user.role.doctor.discount.view\">    \r\n<button type=\"button\" class=\"btn btn-dark\" (click)=\"reset();\">Reset Filters</button>\r\n</div-->\r\n<div class=\"col-md-12 text-right\" *ngIf=\"user.role.doctor.discount.view\">     \r\n  <i class=\"fa fa-filter customfiltericon m-10\" aria-hidden=\"true\" (click)=\"openSearchFilter()\"></i>                     \r\n  <i class=\"fa fa-refresh customfiltericon m-10\" (click)=\"reset();\" aria-hidden=\"true\"></i>\r\n  <!--button type=\"button\" class=\"btn btn-dark\" (click)=\"openSearchFilter()\">Search Filters</button-->\r\n\r\n</div>\r\n</div>\r\n\r\n\r\n      <div class=\"card-body table-responsive marginLeft\"> <span class=\"pb-3 \"><b> List of existing {{userKind}}s </b>  </span>\r\n        <table class=\"table table-bdiscounted table-sm\">\r\n          <thead>\r\n          <tr>\r\n            <!--th>Discount Id </th-->\r\n              <th>Discount Type</th>\r\n              <th> Logic </th>\r\n              \r\n              \r\n              <th>Order Value</th>            \r\n              <th>Order value Lower Limit</th>            \r\n              <th>Order value Upper Limit</th>            \r\n              <th>Discount Amount </th>            \r\n              <th *ngIf=\"user.role.doctor.discount.edit\">Enable/Disable</th>              \r\n              <th>Created Date</th>\r\n              <th *ngIf=\"user.role.doctor.discount.edit\">Edit</th>\r\n          </tr>\r\n          </thead>\r\n          <tbody>\r\n              <tbody *ngIf=\"normalFiltereduserListArr && normalFiltereduserListArr.length>0\">\r\n            \r\n              <tr class=\"{{obj.status | lowercase}}\"  *ngFor=\"let obj of normalFiltereduserListArr | paginate: { id:'fordiscount1', itemsPerPage: pageSize, currentPage: pageNo, totalItems: totalDocRecords }\">              \r\n         \r\n                  <!--td>{{obj?._id}}</td-->                  \r\n                  <td>{{convertToHumanDiscountTypeDesc(obj.discountType)}}</td>       \r\n                  <td>{{obj?.logicType}}  </td>\r\n                 \r\n                  \r\n                  <!--td>{{obj?.logicType}}</td-->\r\n                  <td>{{obj?.value}}  </td>\r\n                  <td>{{obj?.lower_value}}  </td>\r\n                  <td>{{obj?.upper_value}}  </td>\r\n                  <td>{{obj?.discount_amount}} <span  *ngIf=\"obj && obj.discount_amount && obj.byPercentAmount == 'by_percent'\" >%</span> <span  *ngIf=\"obj && obj.discount_amount && obj.byPercentAmount == 'by_value'\" >Rupees</span> </td>\r\n              \r\n              <td *ngIf=\"user.role.doctor.discount.edit\">               \r\n                <ui-switch [(ngModel)]=\"obj.active\" (change)=\"updateStatus($event, obj)\"></ui-switch>\r\n                    \r\n              </td>              \r\n<td >{{convertToHumanDate(obj.createdDate)}}</td>\r\n\r\n<td *ngIf=\"user.role.doctor.discount.edit\" ><button class=\"btn btn-dark\" (click)=\"openForeditDiscount(obj)\"> Edit </button></td>    \r\n\r\n            </tr>\r\n          </tbody>\r\n          <div class=\"col-md-12 text-left clearfix \">\r\n          <pagination-controls class=\"my-pagination marginLeft\"  id=\"fordiscount1\" \r\n               (pageChange)=\"pageChanged($event)\"\r\n                      (pageBoundsCorrection)=\"pageChanged($event)\"                      \r\n                      directionLinks=\"true\"               maxSize=\"9\"\r\n                      directionLinks=\"true\"\r\n                      autoHide=\"true\"\r\n                      responsive=\"true\"\r\n                      previousLabel=\"Prev\"\r\n                      nextLabel=\"Next\"\r\n                      screenReaderPaginationLabel=\"Pagination\"\r\n                      screenReaderPageLabel=\"page\"\r\n                      screenReaderCurrentLabel=\"You're on page\"></pagination-controls >\r\n          </div>\r\n          <tbody *ngIf=\"(normalFiltereduserListArr && normalFiltereduserListArr.length==0)\">\r\n              <tr>\r\n                <td colspan=\"7\" align = \"center\">No record available</td>\r\n              </tr>\r\n            </tbody>\r\n        </table>\r\n      </div>\r\n      \r\n\r\n\r\n\r\n      <ng-template #discountFormModal let-close=\"close\">\r\n        <form [formGroup]=\"discountFormGroup\" class=\"custom_timebox p-0\">\r\n          <div class=\"modal-header py-1\">\r\n                  <h4 class=\"modal-title headerTitle mb-0\">{{mode | titlecase}} Discount</h4>\r\n                  <button type=\"button\" class=\"close\" (click)=\"closeModal();\">×</button>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n\r\n\r\n              <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                    <div class=\"form-group\">\r\n                        <label class=\"labelTitles\">Discount Type </label>\r\n                        <select formControlName=\"discountType\"  [(ngModel)]=\"discountObject.discountType\"  class=\"form-control\" name=\"discountType\" (change)=\"changeDiscountType()\"\r\n                            >\r\n                           \r\n                            <option *ngFor=\"let discountType of discountTypes\" value=\"{{discountType.value}}\" class=\"labelValue\">{{discountType.name}}</option>\r\n                        </select>\r\n                       \r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"row\" *ngIf=\"discountObject.discountType == 'order_volume'\" >\r\n              <div class=\"col-md-12\">\r\n                  <div class=\"form-group\">\r\n                      <label class=\"labelTitles\">Logic Type </label>\r\n                      <select formControlName=\"logicType\"  [(ngModel)]=\"discountObject.logicType\"  class=\"form-control\" name=\"logicType\" (change)=\"changeLogicType()\"\r\n                          >\r\n                         \r\n                          <option *ngFor=\"let logicType of logicTypes\" value=\"{{logicType.value}}\" class=\"labelValue\">{{logicType.name}}</option>\r\n                      </select>\r\n                     \r\n                  </div>\r\n              </div>\r\n          </div>\r\n\r\n          <div class=\"row\" *ngIf=\"discountObject.discountType != 'coupon'\">\r\n            <div class=\"col-md-12\">\r\n                <div class=\"form-group\">\r\n                    <label class=\"labelTitles\">By Percent Or Amount </label>\r\n                    <select formControlName=\"byPercentAmount\"  [(ngModel)]=\"discountObject.byPercentAmount\"  class=\"form-control\" name=\"byPercentAmount\" (change)=\"changePercentAmount()\"\r\n                        >\r\n                       \r\n                        <option *ngFor=\"let byPercentAmount of byPercentAmounts\" value=\"{{byPercentAmount.value}}\" class=\"labelValue\">{{byPercentAmount.name}}</option>\r\n                    </select>\r\n                   \r\n                </div>\r\n            </div>\r\n        </div>\r\n     \r\n           \r\n\r\n              <div class=\"row \" *ngIf=\"subLogicType\">\r\n                <div class=\"col-md-12 form-group\">\r\n                    <label for=\"email\" class=\"labelTitles\"><b> Order Lower Value</b></label>\r\n                </div>\r\n                <div class=\"col-md-12 marginTop\">\r\n                        <input class=\"form-control\" [(ngModel)]=\"discountObject.lower_value\" formControlName=\"lower_value\"\r\n                        placeholder=\"Enter Lower Value\">\r\n                        \r\n                 </div>\r\n              </div>\r\n\r\n              <div class=\"row \" *ngIf=\"subLogicType\">\r\n                <div class=\"col-md-12 form-group\">\r\n                    <label for=\"email\" class=\"labelTitles\"><b> Order Upper Value</b></label>\r\n                </div>\r\n                <div class=\"col-md-12 marginTop\">\r\n                        <input class=\"form-control\" [(ngModel)]=\"discountObject.upper_value\" formControlName=\"upper_value\"\r\n                        placeholder=\"Enter Upper Value\">\r\n                        \r\n                 </div>\r\n              </div>\r\n\r\n              <div class=\"row \" *ngIf=\"!subLogicType && discountObject.discountType == 'order_volume'\">\r\n                <div class=\"col-md-12 form-group\">\r\n                    <label for=\"email\" class=\"labelTitles\"><b>   Order Value </b></label>\r\n                </div>\r\n                <div class=\"col-md-12 marginTop\">\r\n                        <input class=\"form-control\" [(ngModel)]=\"discountObject.value\" formControlName=\"value\"\r\n                        placeholder=\"Enter Order Value\">\r\n                        \r\n                 </div>\r\n              </div>\r\n              \r\n              <div class=\"row\">\r\n                <div class=\"col-md-12 form-group\">\r\n                    <label for=\"email\" class=\"labelTitles\"><b> <span  *ngIf=\"discountObject.byPercentAmount == 'by_percent'\" >%</span> Discount Amount </b></label>\r\n                </div>\r\n                <div class=\"col-md-12 marginTop\">\r\n                        <input class=\"form-control\" [(ngModel)]=\"discountObject.discount_amount\" formControlName=\"discount_amount\"\r\n                        placeholder=\"Enter discount amount\">\r\n                        \r\n                 </div>\r\n              </div>\r\n\r\n\r\n\r\n             </div>\r\n             <div class=\"modal-footer\">\r\n                <button [disabled]=\"!discountFormGroup.valid\" type=\"button\" class=\"btn btn-primary m-10\"\r\n                    (click)=\"save();\">Save</button>\r\n                <button type=\"button\" class=\"btn btn-primary m-10\" (click)=\"closeMainModal();\">Cancel</button>\r\n            </div>\r\n          </form>\r\n        <p *ngIf=\"submitAttempt\" class=\"cutomeerrortext\">\r\n                \r\n         <span class=\"redcolor ml-2\"><i class=\"fa fas fa-exclamation\"></i><b>&nbsp;Fix The Error : </b></span> {{form_fill_failure_msg}}\r\n          \r\n        </p>\r\n</ng-template>\r\n\r\n<!--jw-pagination [items]=\"items\" (changePage)=\"onChangePage($event)\"></jw-pagination-->\r\n\r\n<div class=\"my-container\">\r\n  <ng-template #customLoadingTemplate>\r\n    \r\n            Please wait..fetching data\r\n    \r\n</ng-template>\r\n  <ngx-loading [show]=\"loading\" [config]=\"{ primaryColour: 'blue',secondaryColour:'red',fullScreenBackdrop:false}\" [template]=\"customLoadingTemplate\"></ngx-loading>\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule,ReactiveFormsModule } from '@angular/forms';\r\n\r\n\r\n\r\nimport { PageHeaderModule } from './../../shared';\r\n//import { LoadingModule } from 'ngx-loading';\r\n//import {NgxToggleModule} from \"ngx-toggle\";\r\nimport { UiSwitchModule } from 'ngx-toggle-switch';\r\nimport {NgbModule} from '@ng-bootstrap/ng-bootstrap';\r\n\r\nimport { FlatpickrModule } from 'angularx-flatpickr';\r\nimport { CalendarModule, DateAdapter } from 'angular-calendar';\r\nimport { adapterFactory } from 'angular-calendar/date-adapters/date-fns';\r\nimport {NgxPaginationModule} from 'ngx-pagination';\r\n\r\nimport { DiscountComponent } from './discount.component';\r\nimport {AutocompleteLibModule} from 'angular-ng-autocomplete';\r\nimport { DiscountRoutingModule } from './discount-routing.module';\r\n//import {DataTableModule, SharedModule, InputTextModule} from 'primeng/primeng';\r\n//import {PaginatorModule} from 'primeng/paginator';\r\n//import {DropdownModule} from 'primeng/dropdown';\r\nimport { NgxLoadingModule, ngxLoadingAnimationTypes } from 'ngx-loading';\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    AutocompleteLibModule,\r\n    NgxPaginationModule,\r\n    DiscountRoutingModule,\r\n    FormsModule,\r\n    PageHeaderModule,\r\n    NgxLoadingModule.forRoot({\r\n      animationType: ngxLoadingAnimationTypes.wanderingCubes,\r\n      backdropBackgroundColour: 'rgba(0,0,0,0.1)', \r\n      backdropBdiscountRadius: '4px',\r\n      primaryColour: '#ffffff', \r\n      secondaryColour: '#ffffff', \r\n      tertiaryColour: '#ffffff'\r\n  }),\r\n    UiSwitchModule,\r\n    NgbModule.forRoot(),\r\n  //  DropdownModule,\r\n  //PaginatorModule,\r\n    FlatpickrModule.forRoot(),\r\n    CalendarModule.forRoot({\r\n      provide: DateAdapter,\r\n      useFactory: adapterFactory\r\n    }),\r\n  ],\r\n  declarations: [DiscountComponent]\r\n})\r\nexport class DiscountModule { }\r\n"]}